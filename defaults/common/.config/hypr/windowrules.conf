# Webcam overlay (prism-screenrecord)
# Goal: A circular/rounded bubble in the corner that follows you
windowrule {
    name = webcam_overlay
    match:title = ^(WebcamOverlay)$
    
    # Behavior
    float = 1
    pin = 1           # Show on all workspaces
    # focus = 0         # Do not steal focus
    
    # Geometry (Top Right)
    move = 100%-w-20 20
    size = 320 320    # Force aspect ratio size
    
    # Styling (Bubble look)
    rounding = 20
    border_size = 2
    # Optional: Set border color to red to indicate "Live"
    # border_color = rgb(ff5555) 
}

# Prism TUI Managers (Wifi, Bluetooth, Audio)
# Matches app-ids generated by 'prism-tui' (org.prism.<name>)
windowrule {
    name = prism_tui
    # Match any window class starting with org.prism.
    match:class = ^(org.prism.)(.*)$
    stay_focused = on
    
    # Behavior
    float = 1
    center = 1
    dim_around = 1     # Dim background to focus on the TUI
    
    # Styling
    size = 900 600
    rounding = 15
    border_size = 2
    opacity = 0.95
}

# Picture in Picture (Firefox/Chrome) 
windowrule {
    name = picture_in_picture
    match:title = ^(Picture-in-Picture)$
    float = 1
    pin = 1
    move = 100%-w-20 100%-h-20
    rounding = 10
}

# Common dialogs 
# Make file pickers and settings windows float naturally
windowrule = float 1, match:class ^(xdg-desktop-portal-gtk)$
windowrule = float 1, center 1, match:class ^(lxappearance)$
windowrule = float 1, center 1, size 800 500, match:class ^(pavucontrol)$
windowrule = float 1, center 1, match:class ^(blueman-manager)$
windowrule = float 1, center 1, match:class ^(nm-connection-editor)$
